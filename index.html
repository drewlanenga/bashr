<!DOCTYPE html>
<html lang="en">
	<head>
		<title>bashr</title>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content="bashr">
		<meta name="author" content="Drew Lanenga">
		<meta name="generator" content="slidify" />
		<link rel="stylesheet" href="libraries/frameworks/material/themes/material/styles/screen-16x10.css">
		<!--link rel="stylesheet" href="styles/screen-16x10.css"-->	</head>
	<body class="shower list">
		<header class="caption">
			<h1>bashr</h1>
			<p><a href="https://github.com/drewlanenga">Drew Lanenga</a>, Data Scientist, Lytics</p>
		</header>

		<section class="slide" id="slide-1">
  <h2 class="shout"><a href="https://github.com/drewlanenga/bashr">bashr</a></h2>
  
  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-2">
  <h2 class="">bashr</h2>
  <ul>
<li>Confession: <code>bashr != bash + r</code></li>
<li>More about <em>environment variables</em> than about <em>bash</em></li>
<li>Reads bash formatted variable exporting

<ul>
<li><code>export FOO=bar</code></li>
</ul></li>
<li>Also supports reading <a href="https://github.com/bkeepers/dotenv"><code>.env</code></a> formatted files

<ul>
<li><code>FOO=bar</code></li>
</ul></li>
</ul>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-3">
  <h2 class="">R vs. Environment Variables</h2>
  <figure>
    <blockquote>
        <p>The <a href="https://12factor.net">twelve-factor app</a> stores config in environment variables.</p>
    </blockquote>
    <figcaption>Adam Wiggins, Heroku Founder</figcaption>
</figure>

<figure>
    <blockquote>
        <p>If you want to set environment variables for your R session, you don't want to use <code>.bashrc</code>; use <code>.Renviron</code> (user) or <code>.Renviron.site</code> (system).</p>
    </blockquote>
    <figcaption><a href="https://support.rstudio.com/hc/en-us/community/posts/207644217-Rstudio-server-doesn-t-have-login-user-s-environment-variables-">RStudio Support Ticket</a></figcaption>
</figure>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-4">
  <h2 class="">Why not Renviron?</h2>
  <ul>
<li>Having multiple locations for identical configuration settings is <strong>annoying</strong>.</li>
<li>You might be <strong>already using bash</strong> (or other shell scripting) to manage environment settings, anyway.</li>
<li><strong>Shared environment variables</strong> make them available across a range of processes.</li>
</ul>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-5">
  <h2 class="">When to use?</h2>
  <ul>
<li>Think: <em>&quot;When does my code contain configuration settings?&quot;</em>

<ul>
<li>Data Location

<ul>
<li>Local directory, S3, FTP, Dropbox, remote database/tables</li>
</ul></li>
<li>Secure Credentials

<ul>
<li>API usernames, passwords, keys</li>
</ul></li>
<li>Staging Environments

<ul>
<li>Different API endpoints/credentials for staging/sandbox vs. production settings</li>
</ul></li>
</ul></li>
</ul>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-6">
  <h2 class="shout">Usage</h2>
  
  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-7">
  <h2 class="">Usage</h2>
  <pre><code># get variables from standard Sys.getenv call
bashr::load_vars(&quot;~/.bashrc&quot;)
foo &lt;- Sys.getenv(&quot;foo&quot;)

# alternatively, assign value at load
vars &lt;- bashr::load_vars(&quot;~/.bashrc&quot;)
foo &lt;- vars$foo
</code></pre>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-8">
  <h2 class="shout">Examples</h2>
  
  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-9">
  <h2 class="">Example: Plotly!</h2>
  <p>According to Plotly&#39;s <a href="https://plot.ly/r/getting-started#initialization-for-online-plotting">Getting Started Guide</a>, save this in your <code>.Rprofile</code> file:</p>

<pre><code class="r">Sys.setenv(&quot;plotly_username&quot; = &quot;your_plotly_username&quot;)
Sys.setenv(&quot;plotly_api_key&quot; = &quot;your_api_key&quot;)
</code></pre>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-10">
  <h2 class="">Example: Plotly!</h2>
  <p><code>plotly.sh</code></p>

<pre><code class="bash">export plotly_username=your_plotly_username
export plotly_api_key=your_api_key
</code></pre>

<p><code>plotly.R</code> or <code>.Rprofile</code></p>

<pre><code class="r">bashr::load_vars(&quot;plotly.sh&quot;)
</code></pre>

  <footer class="footer">
    
  </footer>
</section>
<section class="slide" id="slide-11">
  <h2 class="">Example: Storing S3 Information</h2>
  <p><code>s3info.sh</code></p>

<pre><code class="bash">export S3_ROOT=https://mybucket.s3.amazonaws.com
export S3_PATH=rawdata
export S3_URL=$S3_ROOT/$S3_PATH
</code></pre>

<p><code>read.R</code></p>

<pre><code class="r">vars &lt;- bashr::load_vars(&quot;s3info.sh&quot;)
mydata &lt;- read.csv(paste0(vars$S3_URL, &quot;/mydata.csv&quot;))
</code></pre>

  <footer class="footer">
    
  </footer>
</section>

		<div class="progress"></div>
		<footer class="badge">
			<a href="">
				<svg viewBox="0 0 81 79" aria-hidden="true">
					<path d="M40.5 0a40.5 40.5 0 0 0-12.8 78.93c2 .37 2.76-.88 2.76-2s0-3.51-.05-6.89c-11.27 2.45-13.64-5.43-13.64-5.43-1.84-4.68-4.5-5.92-4.5-5.92-3.68-2.51.28-2.46.28-2.46 4.06.29 6.2 4.17 6.2 4.17 3.61 6.19 9.48 4.4 11.79 3.37a8.65 8.65 0 0 1 2.57-5.41c-9-1-18.45-4.5-18.45-20a15.65 15.65 0 0 1 4.17-10.87 14.57 14.57 0 0 1 .4-10.72s3.4-1.09 11.14 4.15a38.39 38.39 0 0 1 20.28 0c7.73-5.24 11.13-4.15 11.13-4.15a14.55 14.55 0 0 1 .4 10.72 15.63 15.63 0 0 1 4.16 10.87c0 15.56-9.47 19-18.49 20 1.45 1.25 2.75 3.72 2.75 7.5v11.11c0 1.08.73 2.34 2.78 1.95A40.51 40.51 0 0 0 40.5 0z"/>
				</svg>
			</a>
		</footer>
		<script src="libraries/frameworks/material/shower.min.js"></script>
		<!-- LOAD HIGHLIGHTER JS FILES -->
		<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<!-- DONE LOADING HIGHLIGHTER JS FILES -->
		 
				<!-- Copyright Â© 2016 Yours Truly, Famous Inc. -->
	</body>
</html>