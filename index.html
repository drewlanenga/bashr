<!DOCTYPE html>
<html lang="en">
	<head>
		<title>renv</title>
		<meta charset="utf-8">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="description" content="renv">
		<meta name="author" content="Drew Lanenga">
		<meta name="generator" content="slidify" />
		<link rel="stylesheet" href="libraries/frameworks/material/themes/material/styles/screen-16x10.css">
		<!--link rel="stylesheet" href="styles/screen-16x10.css"-->	</head>
	<body class="shower list">
		<header class="caption">
			<a href="https://drewlanenga.github.io/renv">
				<h1>renv</h1>
				<p>Load environment files in R</p>
			</a>
		</header>

		<section class="slide" id="slide-1">
  <h2 class="shout"><a href="https://github.com/drewlanenga/renv">renv</a></h2>
  
</section>
<section class="slide" id="slide-2">
  <h2 class="">R vs. Environment Variables</h2>
  <figure>
    <blockquote>
        <p>The <a href="https://12factor.net">twelve-factor app</a> stores config in environment variables.</p>
    </blockquote>
    <figcaption>Adam Wiggins, Heroku Founder</figcaption>
</figure>

<figure>
    <blockquote>
        <p>If you want to set environment variables for your R session, you don't want to use <code>.bashrc</code>; use <code>.Renviron</code> (user) or <code>.Renviron.site</code> (system).</p>
    </blockquote>
    <figcaption><a href="https://support.rstudio.com/hc/en-us/community/posts/207644217-Rstudio-server-doesn-t-have-login-user-s-environment-variables-">RStudio Support Ticket</a></figcaption>
</figure>

</section>
<section class="slide" id="slide-3">
  <h2 class="">Why not Renviron?</h2>
  <ul>
<li>You might be <strong>already using bash</strong> (or other shell scripting) to manage environment settings, anyway.</li>
<li><strong>Shared environment variables</strong> make them available across a range of processes.</li>
<li>Having multiple locations for identical configuration settings is <strong>annoying</strong>.</li>
</ul>

<figure>
    <blockquote>
        <p><strong>Drew's Law</strong>: If you ever have the same configuration data stored in multiple locations, at some point it will cause a headache.</p>
    </blockquote>
    <figcaption><a href="https://github.com/drewlanenga">Drew Lanenga</a></figcaption>
</figure>

</section>
<section class="slide" id="slide-4">
  <h2 class="">When to use?</h2>
  <ul>
<li>Think: <em>&quot;When does my code contain configuration settings?&quot;</em>

<ul>
<li>Data Location

<ul>
<li>Local directory, S3, FTP, Dropbox, remote database/tables</li>
</ul></li>
<li>Secure Credentials

<ul>
<li>API usernames, passwords, keys</li>
</ul></li>
<li>Staging Environments

<ul>
<li>Different API endpoints/credentials for staging/sandbox vs. production settings</li>
</ul></li>
</ul></li>
</ul>

</section>
<section class="slide" id="slide-5">
  <h2 class="shout">Usage</h2>
  
</section>
<section class="slide" id="slide-6">
  <h2 class="">Usage</h2>
  <pre><code># get variables from standard Sys.getenv call
renv::load_vars(&quot;~/.bashrc&quot;)
foo &lt;- Sys.getenv(&quot;foo&quot;)

# alternatively, assign value at load
vars &lt;- renv::load_vars(&quot;~/.bashrc&quot;)
foo &lt;- vars$foo
</code></pre>

</section>
<section class="slide" id="slide-7">
  <h2 class="shout">Examples</h2>
  
</section>
<section class="slide" id="slide-8">
  <h2 class="">Example: Plotly!</h2>
  <p>According to Plotly&#39;s <a href="https://plot.ly/r/getting-started#initialization-for-online-plotting">Getting Started Guide</a>, save this in your <code>.Rprofile</code> file:</p>

<pre><code class="r">Sys.setenv(&quot;plotly_username&quot; = &quot;your_plotly_username&quot;)
Sys.setenv(&quot;plotly_api_key&quot; = &quot;your_api_key&quot;)
</code></pre>

</section>
<section class="slide" id="slide-9">
  <h2 class="">Example: Plotly!</h2>
  <p><code>plotly.sh</code></p>

<pre><code class="bash">export plotly_username=your_plotly_username
export plotly_api_key=your_api_key
</code></pre>

<p><code>plotly.R</code> or <code>.Rprofile</code></p>

<pre><code class="r">renv::load_vars(&quot;plotly.sh&quot;)
</code></pre>

</section>
<section class="slide" id="slide-10">
  <h2 class="">Example: Storing S3 Information</h2>
  <p><code>s3info.sh</code></p>

<pre><code class="bash">export S3_ROOT=https://mybucket.s3.amazonaws.com
export S3_PATH=rawdata
export S3_URL=$S3_ROOT/$S3_PATH
</code></pre>

<p><code>read.R</code></p>

<pre><code class="r">vars &lt;- renv::load_vars(&quot;s3info.sh&quot;)
mydata &lt;- read.csv(paste0(vars$S3_URL, &quot;/mydata.csv&quot;))
</code></pre>

</section>

		<div class="progress"></div>
		<footer> </footer>
		<script src="libraries/frameworks/material/shower.min.js"></script>
		<!-- LOAD HIGHLIGHTER JS FILES -->
		<script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
		<!-- DONE LOADING HIGHLIGHTER JS FILES -->
		 
				<!-- Copyright Â© 2016 Yours Truly, Famous Inc. -->
	</body>
</html>